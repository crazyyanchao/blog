---
title: MySQL字符串截取
tags: [MySQL]
author: Yc-Ma
show_author_profile: true
key: 2020-08-21-MySQL字符串截取
pageview: true
---

Here's the table of contents:
1. TOC
{:toc}

## 被截取字符串
```
-HORG益民红利成长混合型证券投资基金_498931e13363b76fd201009eefe9048d
```

## 截取结果
```
益民红利成长混合型证券投资基金
```

## 截取SQL
```
SELECT * FROM HORGShareHold_Hold_Split01  WHERE fromName='null'
SELECT substring(`from`, 4, length) FROM HORGShareHold_Hold_Split01  WHERE fromName='null'
SELECT SUBSTRING_INDEX(`from`, '_', 1) FROM HORGShareHold_Hold_Split01  WHERE fromName='null' LIMIT 1
SELECT SUBSTRING(SUBSTRING_INDEX(`from`, '_', 1),6) FROM HORGShareHold_Hold_Split01  WHERE fromName='null' LIMIT 1
UPDATE HORGShareHold_Hold_Split01 SET fromName=SUBSTRING(SUBSTRING_INDEX(`from`, '_', 1),6) WHERE fromName='null'
UPDATE HORGShareHold_Hold_Split01 SET toName=SUBSTRING(SUBSTRING_INDEX(`to`, '_', 1),6) WHERE toName='null'
```

## 备注
将数据从一个表转到另一个表
```
INSERT IGNORE MAIN_DIC (SELECT * FROM MSTR_PERSON_DIC)
```

## 生成数值
2015-02-03 00:00:00 -》 20150203000000
```
SELECT hcode,name,type,CONVERT(DATE_FORMAT(release_date,'%Y%m%d%H%i%S'),UNSIGNED INTEGER) AS release_date,CONVERT(DATE_FORMAT(start_time,'%Y%m%d%H%i%S'),UNSIGNED INTEGER) AS start_time,CONVERT(DATE_FORMAT(end_time,'%Y%m%d%H%i%S'),UNSIGNED INTEGER) AS end_time,data_source FROM MSTR_EVENT LIMIT 10
```

## 从一个表拿数据更新到另外一个表
```
UPDATE MSTR_EVENT INNER JOIN (SELECT nature,hcode FROM MSTR_EVENT_TEST) source ON MSTR_EVENT.hcode=source.hcode SET MSTR_EVENT.nature=source.nature
```

